<!DOCTYPE HTML>
<html lang="en-US" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=11; IE=10; IE=9; IE=8; IE=7; IE=EDGE" />
        <title>c++编码规范 | 产品文档</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 1.3.4">
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    
    
    <link rel="next" href="../coding_convention/client_development_specification.html" />
    
    
    <link rel="prev" href="../coding_convention/c++.html" />
    

        
    </head>
    <body>
        
        
<link rel="stylesheet" href="../gitbook/style.css">


        
    <div class="book" data-level="2.1" data-basepath=".." data-revision="1463048464910">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
    	
    	
    	

        

        
    
        
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                        <i class="fa fa-check"></i>
                        
                         Introduction
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1" data-path="hg_guide/Introduction.html">
            
                
                    <a href="../hg_guide/Introduction.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                         代码提交
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="1.1" data-path="hg_guide/commit_specification.html">
            
                
                    <a href="../hg_guide/commit_specification.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                         代码提交规范
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.2" data-path="hg_guide/how_mercurial_works.html">
            
                
                    <a href="../hg_guide/how_mercurial_works.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                         mercurial基本原理
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.3" data-path="hg_guide/mercurial_commands.html">
            
                
                    <a href="../hg_guide/mercurial_commands.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.3.</b>
                        
                         mercurial使用教程
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter active" data-level="2" data-path="coding_convention/c++.html">
            
                
                    <a href="../coding_convention/c++.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                         编码规范
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter active" data-level="2.1" data-path="coding_convention/c++.html">
            
                
                    <a href="../coding_convention/c++.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                         c++编码规范
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.2" data-path="coding_convention/client_development_specification.html">
            
                
                    <a href="../coding_convention/client_development_specification.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                         客户端开发规范
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.3" data-path="coding_convention/android_convention.html">
            
                
                    <a href="../coding_convention/android_convention.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                         android开发规范
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="3" data-path="code_review/code_review_points.html">
            
                
                    <a href="../code_review/code_review_points.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                         代码评审
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="3.1" data-path="code_review/ios/FAQ.html">
            
                
                    <a href="../code_review/ios/FAQ.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                         FAQ(iOS)
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="4" data-path="ci_guide/Introduction.html">
            
                
                    <a href="../ci_guide/Introduction.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                         持续集成
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="4.1" data-path="ci_guide/jenkins.html">
            
                
                    <a href="../ci_guide/jenkins.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                         Jenkins持续集成
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.2" data-path="ci_guide/deploy.html">
            
                
                    <a href="../ci_guide/deploy.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                         Jenkins持续发布
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.3" data-path="ci_guide/ClientBuild.html">
            
                
                    <a href="../ci_guide/ClientBuild.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                         客户端构建
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.4" data-path="ci_guide/sonarqube.html">
            
                
                    <a href="../ci_guide/sonarqube.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.</b>
                        
                         Sonar代码质量检测
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.5" data-path="ci_guide/Phabricator.html">
            
                
                    <a href="../ci_guide/Phabricator.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.5.</b>
                        
                         Code Review
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.6" data-path="ci_guide/Appium.html">
            
                
                    <a href="../ci_guide/Appium.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.6.</b>
                        
                         UI自动化测试
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.7" data-path="ci_guide/ldap.html">
            
                
                    <a href="../ci_guide/ldap.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.7.</b>
                        
                         LDAP服务部署和集成
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.8" data-path="ci_guide/p_code.html">
            
                
                    <a href="../ci_guide/p_code.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.8.</b>
                        
                         个人构建
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.9" data-path="ci_guide/tools/Introduction.html">
            
                
                    <a href="../ci_guide/tools/Introduction.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.9.</b>
                        
                         持续集成依赖工具
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="4.9.1" data-path="ci_guide/tools/brew.html">
            
                
                    <a href="../ci_guide/tools/brew.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.9.1.</b>
                        
                         Homebrew安装
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.9.2" data-path="ci_guide/tools/install_jdk.html">
            
                
                    <a href="../ci_guide/tools/install_jdk.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.9.2.</b>
                        
                         JDK安装
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.9.3" data-path="ci_guide/tools/install_sdk.html">
            
                
                    <a href="../ci_guide/tools/install_sdk.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.9.3.</b>
                        
                         Android SDK安装
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.9.4" data-path="ci_guide/tools/install_tomcat.html">
            
                
                    <a href="../ci_guide/tools/install_tomcat.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.9.4.</b>
                        
                         Tomcat安装
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.9.5" data-path="ci_guide/tools/maven.html">
            
                
                    <a href="../ci_guide/tools/maven.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.9.5.</b>
                        
                         Maven构建工具
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.9.6" data-path="ci_guide/tools/nexus.html">
            
                
                    <a href="../ci_guide/tools/nexus.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.9.6.</b>
                        
                         Nexus依赖仓库
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.9.7" data-path="ci_guide/tools/Ansible.html">
            
                
                    <a href="../ci_guide/tools/Ansible.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.9.7.</b>
                        
                         Asible服务集群部署
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="5" data-path="code_server/Introduction.html">
            
                
                    <a href="../code_server/Introduction.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                         代码服务器
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="5.1" data-path="code_server/deploy.html">
            
                
                    <a href="../code_server/deploy.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                         代码服务器部署
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="5.2" data-path="code_server/hghook.html">
            
                
                    <a href="../code_server/hghook.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                         hghook脚本安装
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="5.3" data-path="code_server/pmmm_functions.html">
            
                
                    <a href="../code_server/pmmm_functions.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.3.</b>
                        
                         PMMM插件功能列表
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="5.4" data-path="code_server/trac_sqlite_to_mysql.html">
            
                
                    <a href="../code_server/trac_sqlite_to_mysql.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.4.</b>
                        
                         Trac迁移Sqlite到MySQL
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="6" data-path="tech/tech_wordpress.html">
            
                
                    <a href="../tech/tech_wordpress.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                         技术期刊
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="6.1" data-path="tech/tech_wordpress.html">
            
                
                    <a href="../tech/tech_wordpress.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                         技术期刊Wordpress搭建
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.2" data-path="tech/mail_wordpress.html">
            
                
                    <a href="../tech/mail_wordpress.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.</b>
                        
                         Wordpress安装邮件服务
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="7" data-path="software_process/requirement/Introduction.html">
            
                
                    <a href="../software_process/requirement/Introduction.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                         需求文档
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="7.1" >
            
            <span><b>7.1.</b> 离线资源</span>
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="7.1.1" data-path="software_process/requirement/offline/security_optimization_of_offline.html">
            
                
                    <a href="../software_process/requirement/offline/security_optimization_of_offline.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.1.</b>
                        
                         离线资源安全优化需求
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="7.1.2" data-path="software_process/requirement/offline/multi_app_support_of_offline.html">
            
                
                    <a href="../software_process/requirement/offline/multi_app_support_of_offline.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.2.</b>
                        
                         离线多App需求
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="7.1.3" data-path="software_process/requirement/offline/websocket_offline.html">
            
                
                    <a href="../software_process/requirement/offline/websocket_offline.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.3.</b>
                        
                         离线Websocket下载需求
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="7.1.4" data-path="software_process/requirement/offline/single_optional_resource_dl_offline.html">
            
                
                    <a href="../software_process/requirement/offline/single_optional_resource_dl_offline.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.4.</b>
                        
                         离线可选资源单个文件下载需求
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="7.1.5" data-path="software_process/requirement/offline/offline4.0_supplement.html">
            
                
                    <a href="../software_process/requirement/offline/offline4.0_supplement.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.5.</b>
                        
                         离线4.0补充需求
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="7.1.6" data-path="software_process/requirement/5.3/multi_encrypted_tunnels.html">
            
                
                    <a href="../software_process/requirement/5.3/multi_encrypted_tunnels.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.6.</b>
                        
                         多信道需求
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="7.2" data-path="software_process/requirement/EMP/touchevent/touchEventRequirement.html">
            
                
                    <a href="../software_process/requirement/EMP/touchevent/touchEventRequirement.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.</b>
                        
                         TouchEvent事件监听需求
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="7.3" data-path="software_process/requirement/client_anti_replaying.html">
            
                
                    <a href="../software_process/requirement/client_anti_replaying.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.3.</b>
                        
                         客户端防重放需求
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="8" data-path="software_process/design/Introduction.html">
            
                
                    <a href="../software_process/design/Introduction.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                         设计文档
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="8.1" >
            
            <span><b>8.1.</b> 文件上传</span>
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="8.1.1" data-path="software_process/design/EWP/server_design_of_uploading_file.html">
            
                
                    <a href="../software_process/design/EWP/server_design_of_uploading_file.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.1.1.</b>
                        
                         服务端设计
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="8.2" data-path="software_process/design/offline/Introduction.html">
            
                
                    <a href="../software_process/design/offline/Introduction.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.</b>
                        
                         离线资源
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="8.2.1" data-path="software_process/design/offline/offline_resource.html">
            
                
                    <a href="../software_process/design/offline/offline_resource.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.1.</b>
                        
                         离线资源协议1.0版
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="8.2.1.1" data-path="software_process/design/offline/offline_resource_design_server.html">
            
                
                    <a href="../software_process/design/offline/offline_resource_design_server.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.1.1.</b>
                        
                         服务端设计
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.2.1.2" data-path="software_process/design/offline/offline_resource_design_client.html">
            
                
                    <a href="../software_process/design/offline/offline_resource_design_client.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.1.2.</b>
                        
                         客户端设计
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="8.2.2" data-path="software_process/design/offline/offline_resource_2.0.html">
            
                
                    <a href="../software_process/design/offline/offline_resource_2.0.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.2.</b>
                        
                         离线资源协议2.0版
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="8.2.2.1" data-path="software_process/design/offline/design_of_security_optimization.html">
            
                
                    <a href="../software_process/design/offline/design_of_security_optimization.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.2.1.</b>
                        
                         离线资源2.0安全性优化设计
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.2.2.2" data-path="software_process/design/offline/h5_resources_support.html">
            
                
                    <a href="../software_process/design/offline/h5_resources_support.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.2.2.</b>
                        
                         离线资源2.1 H5资源支持设计
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.2.2.3" data-path="software_process/design/offline/h5_resources_support_client.html">
            
                
                    <a href="../software_process/design/offline/h5_resources_support_client.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.2.3.</b>
                        
                         离线资源2.1 H5资源支持客户端设计
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="8.2.3" data-path="software_process/design/offline/offline_resource_3.0.html">
            
                
                    <a href="../software_process/design/offline/offline_resource_3.0.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.3.</b>
                        
                         离线资源协议3.0版
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="8.2.3.1" data-path="software_process/design/offline/design_of_multi_app_support_of_offline_server.html">
            
                
                    <a href="../software_process/design/offline/design_of_multi_app_support_of_offline_server.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.3.1.</b>
                        
                         离线资源3.0 离线资源多App支持服务器设计
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.2.3.2" data-path="software_process/design/offline/design_of_multi_app_support_of_offline_client.html">
            
                
                    <a href="../software_process/design/offline/design_of_multi_app_support_of_offline_client.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.3.2.</b>
                        
                         离线资源3.0 离线资源多App支持客户端设计
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="8.2.4" data-path="software_process/design/offline/offline_resource_4.0.html">
            
                
                    <a href="../software_process/design/offline/offline_resource_4.0.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.4.</b>
                        
                         离线资源协议4.0版
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="8.2.4.1" data-path="software_process/design/offline/h5_plug_support_client.html">
            
                
                    <a href="../software_process/design/offline/h5_plug_support_client.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.4.1.</b>
                        
                         离线H5资源插件下载
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.2.4.2" data-path="software_process/design/offline/websocket_resources_support_client.html">
            
                
                    <a href="../software_process/design/offline/websocket_resources_support_client.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.4.2.</b>
                        
                         客户端离线资源WebSocket下载支持设计
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.2.4.3" data-path="software_process/design/offline/offline_4_0_design_server.html">
            
                
                    <a href="../software_process/design/offline/offline_4_0_design_server.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.4.3.</b>
                        
                         离线资源4.0 服务器设计
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.2.4.4" data-path="software_process/design/offline/offline_resource_optimization_client.html">
            
                
                    <a href="../software_process/design/offline/offline_resource_optimization_client.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.4.4.</b>
                        
                         离线资源优化-客户端设计
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.2.4.5" data-path="software_process/design/offline/offline_resource_optimization_server.html">
            
                
                    <a href="../software_process/design/offline/offline_resource_optimization_server.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.4.5.</b>
                        
                         离线资源优化-服务端设计
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.2.4.6" data-path="software_process/design/offline/offline_resource_optimization_pre&amp;download_android.html">
            
                
                    <a href="../software_process/design/offline/offline_resource_optimization_pre&amp;download_android.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.4.6.</b>
                        
                         离线资源优化-预置&amp;下载-Android
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.2.4.7" data-path="software_process/design/offline/offline_resource_optimization_pre&amp;download_android.html">
            
                
                    <a href="../software_process/design/offline/offline_resource_optimization_pre&amp;download_android.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.4.7.</b>
                        
                         离线资源优化-预置&amp;下载-Android
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.2.4.8" data-path="software_process/design/offline/offline_resource_optinal_part_client.html">
            
                
                    <a href="../software_process/design/offline/offline_resource_optinal_part_client.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.4.8.</b>
                        
                         离线资源-可选资源增量更新
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="8.3" data-path="software_process/design/xmpp/Introduction.html">
            
                
                    <a href="../software_process/design/xmpp/Introduction.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.3.</b>
                        
                         可靠消息
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="8.3.1" data-path="software_process/design/xmpp/xmpp_design_client.html">
            
                
                    <a href="../software_process/design/xmpp/xmpp_design_client.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.3.1.</b>
                        
                         可靠消息机制客户端设计
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="8.4" data-path="software_process/design/editor/Introduction.html">
            
                
                    <a href="../software_process/design/editor/Introduction.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.4.</b>
                        
                         Editor调试工具
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="8.4.1" data-path="software_process/design/editor/client/editor_client_design.html">
            
                
                    <a href="../software_process/design/editor/client/editor_client_design.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.4.1.</b>
                        
                         客户端Editor工具实现思路
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.4.2" data-path="software_process/design/editor/client/data_transfer_old.html">
            
                
                    <a href="../software_process/design/editor/client/data_transfer_old.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.4.2.</b>
                        
                         数据传输协议(老版本)
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.4.3" data-path="software_process/design/editor/client/data_transfer_new.html">
            
                
                    <a href="../software_process/design/editor/client/data_transfer_new.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.4.3.</b>
                        
                         数据传输协议(新版本)
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="8.5" data-path="software_process/design/EMP/Introduction.html">
            
                
                    <a href="../software_process/design/EMP/Introduction.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.5.</b>
                        
                         EMP设计
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="8.5.1" data-path="software_process/design/EMP/slt2/design_of_slt2_parsing.html">
            
                
                    <a href="../software_process/design/EMP/slt2/design_of_slt2_parsing.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.5.1.</b>
                        
                         SLT2脚本解析功能总体设计
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.5.2" data-path="software_process/design/EMP/files_security/local_files_security.html">
            
                
                    <a href="../software_process/design/EMP/files_security/local_files_security.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.5.2.</b>
                        
                         客户端文件安全
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.5.3" data-path="software_process/design/EMP/internationalization.html">
            
                
                    <a href="../software_process/design/EMP/internationalization.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.5.3.</b>
                        
                         国际化设计文档
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.5.4" data-path="software_process/design/EMP/screen_adaptation/screen_adaptation.html">
            
                
                    <a href="../software_process/design/EMP/screen_adaptation/screen_adaptation.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.5.4.</b>
                        
                         屏幕适配设计文档
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.5.5" data-path="software_process/design/EMP/iOS_5.3_NativeTesting_Design.html">
            
                
                    <a href="../software_process/design/EMP/iOS_5.3_NativeTesting_Design.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.5.5.</b>
                        
                         iOS native测试设计文档
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.5.6" data-path="software_process/design/EMP/Android_5.3_NativeTesting_Design.html">
            
                
                    <a href="../software_process/design/EMP/Android_5.3_NativeTesting_Design.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.5.6.</b>
                        
                         Android native测试设计文档
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.5.7" data-path="software_process/design/EMP/dom_search_optimization_scheme.html">
            
                
                    <a href="../software_process/design/EMP/dom_search_optimization_scheme.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.5.7.</b>
                        
                         DOM查找性能测试及优化方案
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.5.8" data-path="software_process/design/EMP/globalcss/css_global_cache.html">
            
                
                    <a href="../software_process/design/EMP/globalcss/css_global_cache.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.5.8.</b>
                        
                         CSS公共样式设计方案
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.5.9" data-path="software_process/design/EMP/touch_event/touch_event.html">
            
                
                    <a href="../software_process/design/EMP/touch_event/touch_event.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.5.9.</b>
                        
                         touch event事件监听设计文档
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.5.10" data-path="software_process/design/EMP/multitask/multitask.html">
            
                
                    <a href="../software_process/design/EMP/multitask/multitask.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.5.10.</b>
                        
                         多任务设计文档
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.5.11" data-path="software_process/design/EMP/control_lua/Introduction.html">
            
                
                    <a href="../software_process/design/EMP/control_lua/Introduction.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.5.11.</b>
                        
                         html设计
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="8.5.11.1" data-path="software_process/design/EMP/control_lua/metatable_property_degsign.html">
            
                
                    <a href="../software_process/design/EMP/control_lua/metatable_property_degsign.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.5.11.1.</b>
                        
                         lua_property
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.5.11.2" data-path="software_process/design/EMP/control_lua/radio_checkbox_icon_design.html">
            
                
                    <a href="../software_process/design/EMP/control_lua/radio_checkbox_icon_design.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.5.11.2.</b>
                        
                         radio/checkbox icon
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.5.11.3" data-path="software_process/design/EMP/control_lua/select_lua_design.html">
            
                
                    <a href="../software_process/design/EMP/control_lua/select_lua_design.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.5.11.3.</b>
                        
                         select增加lua支持
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="8.5.12" data-path="software_process/design/EMP/design_of_tls_rehandshake.html">
            
                
                    <a href="../software_process/design/EMP/design_of_tls_rehandshake.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.5.12.</b>
                        
                         信道重连设计
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.5.13" data-path="software_process/design/EMP/iOS/Introduction.html">
            
                
                    <a href="../software_process/design/EMP/iOS/Introduction.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.5.13.</b>
                        
                         iOS离线下载网路模块设计
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="8.5.13.1" data-path="software_process/design/EMP/iOS/offline/offline_download_websocket_process.html">
            
                
                    <a href="../software_process/design/EMP/iOS/offline/offline_download_websocket_process.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.5.13.1.</b>
                        
                         离线资源websocket下载过程说明
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.5.13.2" data-path="software_process/design/EMP/iOS/offline/updatehttpmanager_Instructions.html">
            
                
                    <a href="../software_process/design/EMP/iOS/offline/updatehttpmanager_Instructions.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.5.13.2.</b>
                        
                         下载管理器UpdateHTTPManager使用说明
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="8.5.14" data-path="software_process/design/EMP/iOS/mdap_class_relation.html">
            
                
                    <a href="../software_process/design/EMP/iOS/mdap_class_relation.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.5.14.</b>
                        
                         MDAP--iOS类关系图
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.5.15" data-path="software_process/design/EMP/EMP_support_https_list.html">
            
                
                    <a href="../software_process/design/EMP/EMP_support_https_list.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.5.15.</b>
                        
                         客户端支持多https信道
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="8.6" data-path="software_process/design/EWP/Introduction.html">
            
                
                    <a href="../software_process/design/EWP/Introduction.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.6.</b>
                        
                         EWP设计
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="8.6.1" data-path="software_process/design/EWP/design_of_anti_resubmit_service.html">
            
                
                    <a href="../software_process/design/EWP/design_of_anti_resubmit_service.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.6.1.</b>
                        
                         防重复提交设计
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.6.2" data-path="software_process/design/EWP/offline/DD_of_security_optimization.html">
            
                
                    <a href="../software_process/design/EWP/offline/DD_of_security_optimization.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.6.2.</b>
                        
                         离线配置设计
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.6.3" data-path="software_process/design/EWP/offline/design_of_refactor.html">
            
                
                    <a href="../software_process/design/EWP/offline/design_of_refactor.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.6.3.</b>
                        
                         离线分层设计
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.6.4" data-path="software_process/design/EWP/session/design_of_optimization_of_shared_session.html">
            
                
                    <a href="../software_process/design/EWP/session/design_of_optimization_of_shared_session.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.6.4.</b>
                        
                         Session共享概要设计
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.6.5" data-path="software_process/design/EWP/session/detailed_design_of_shared_session.html">
            
                
                    <a href="../software_process/design/EWP/session/detailed_design_of_shared_session.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.6.5.</b>
                        
                         Session共享详细设计
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.6.6" data-path="software_process/design/EWP/EAC/design_of_eac.html">
            
                
                    <a href="../software_process/design/EWP/EAC/design_of_eac.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.6.6.</b>
                        
                         EMP管理平台优化设计
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.6.7" data-path="software_process/design/EWP/design_of_client_anti_replaying.html">
            
                
                    <a href="../software_process/design/EWP/design_of_client_anti_replaying.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.6.7.</b>
                        
                         客户端防重放设计
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.6.8" data-path="software_process/design/offline/offline_resource_enhance_to_4.0.html">
            
                
                    <a href="../software_process/design/offline/offline_resource_enhance_to_4.0.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.6.8.</b>
                        
                         增强版升级离线4.0服务端设计
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.6.9" data-path="software_process/design/EMP/EWP_support_https_list.html">
            
                
                    <a href="../software_process/design/EMP/EWP_support_https_list.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.6.9.</b>
                        
                         服务端支持多https信道
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="9" data-path="software_process/test/Introduction.html">
            
                
                    <a href="../software_process/test/Introduction.html">
                        <i class="fa fa-check"></i>
                        
                            <b>9.</b>
                        
                         测试文档
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="9.1" data-path="software_process/test/EWP/Introduction.html">
            
                
                    <a href="../software_process/test/EWP/Introduction.html">
                        <i class="fa fa-check"></i>
                        
                            <b>9.1.</b>
                        
                         EWP测试结果
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="9.1.1" data-path="software_process/test/EWP/httpc_test.html">
            
                
                    <a href="../software_process/test/EWP/httpc_test.html">
                        <i class="fa fa-check"></i>
                        
                            <b>9.1.1.</b>
                        
                         HTTPC接口性能测试
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="9.1.2" data-path="software_process/test/EWP/session_share_pftest_results.html">
            
                
                    <a href="../software_process/test/EWP/session_share_pftest_results.html">
                        <i class="fa fa-check"></i>
                        
                            <b>9.1.2.</b>
                        
                         Session优化性能测试
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="9.1.3" data-path="software_process/test/EWP/test_of_anti_resubmit_service.html">
            
                
                    <a href="../software_process/test/EWP/test_of_anti_resubmit_service.html">
                        <i class="fa fa-check"></i>
                        
                            <b>9.1.3.</b>
                        
                         防重复提交功能性能测试
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="9.2" data-path="software_process/test/EMP/Introduction.html">
            
                
                    <a href="../software_process/test/EMP/Introduction.html">
                        <i class="fa fa-check"></i>
                        
                            <b>9.2.</b>
                        
                         EMP测试结果
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="9.2.1" >
            
            <span><b>9.2.1.</b> Android</span>
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="9.2.1.1" data-path="software_process/test/EMP/Android/offline/PresetResourceProcessingV3.0-PerformanceTestReport_1.1.html">
            
                
                    <a href="../software_process/test/EMP/Android/offline/PresetResourceProcessingV3.0-PerformanceTestReport_1.1.html">
                        <i class="fa fa-check"></i>
                        
                            <b>9.2.1.1.</b>
                        
                         预置离线资源处理V3.0-性能测试报告
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="10" data-path="client_function/Introduction.html">
            
                
                    <a href="../client_function/Introduction.html">
                        <i class="fa fa-check"></i>
                        
                            <b>10.</b>
                        
                         客户端其他功能
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="10.1" data-path="client_function/error_check.html">
            
                
                    <a href="../client_function/error_check.html">
                        <i class="fa fa-check"></i>
                        
                            <b>10.1.</b>
                        
                         错误检测
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="11" data-path="technology_accumulation/Introduction.html">
            
                
                    <a href="../technology_accumulation/Introduction.html">
                        <i class="fa fa-check"></i>
                        
                            <b>11.</b>
                        
                         技术积累
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="11.1" data-path="technology_accumulation/Introduction.html">
            
                
                    <a href="../technology_accumulation/Introduction.html">
                        <i class="fa fa-check"></i>
                        
                            <b>11.1.</b>
                        
                         iOS
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="11.1.1" data-path="technology_accumulation/iOS/schedule.html">
            
                
                    <a href="../technology_accumulation/iOS/schedule.html">
                        <i class="fa fa-check"></i>
                        
                            <b>11.1.1.</b>
                        
                         日程安排
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="11.1.2" data-path="technology_accumulation/iOS/technical_points/loop_reference.html">
            
                
                    <a href="../technology_accumulation/iOS/technical_points/loop_reference.html">
                        <i class="fa fa-check"></i>
                        
                            <b>11.1.2.</b>
                        
                         循环引用
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="11.1.3" data-path="technology_accumulation/iOS/technical_points/table_cell_reuse.html">
            
                
                    <a href="../technology_accumulation/iOS/technical_points/table_cell_reuse.html">
                        <i class="fa fa-check"></i>
                        
                            <b>11.1.3.</b>
                        
                         tableCell重用
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="11.1.4" data-path="technology_accumulation/iOS/advanced_technology/3DTouch.html">
            
                
                    <a href="../technology_accumulation/iOS/advanced_technology/3DTouch.html">
                        <i class="fa fa-check"></i>
                        
                            <b>11.1.4.</b>
                        
                         3DTouch
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="11.1.5" data-path="technology_accumulation/iOS/advanced_technology/cordova.html">
            
                
                    <a href="../technology_accumulation/iOS/advanced_technology/cordova.html">
                        <i class="fa fa-check"></i>
                        
                            <b>11.1.5.</b>
                        
                         cordova
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="11.1.6" data-path="technology_accumulation/iOS/advanced_technology/touchID.html">
            
                
                    <a href="../technology_accumulation/iOS/advanced_technology/touchID.html">
                        <i class="fa fa-check"></i>
                        
                            <b>11.1.6.</b>
                        
                         touchID
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="11.1.7" data-path="technology_accumulation/iOS/advanced_technology/watchOS.html">
            
                
                    <a href="../technology_accumulation/iOS/advanced_technology/watchOS.html">
                        <i class="fa fa-check"></i>
                        
                            <b>11.1.7.</b>
                        
                         watchOS
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank" class="gitbook-link">Published using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Toggle summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Toggle search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Toggle font settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    

    
    
    
    

    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Toggle share dropdown">下载</a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                
                <a href="/emp/inner_docs/inner_docs.zip" class="button">html</a>
                
                
                <a href="/emp/inner_docs/book.pdf" class="button">pdf</a>
                
                
                <a href="" class="button">epub</a>
                
            </div>
        </div>
    </div>

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >产品文档</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-gitbook_29">
                    
                        <h1 id="c编码规范">C++编码规范</h1>
<!-- toc -->
<h2 id="文件结构">1 文件结构</h2>
<p>每个C++/C 程序通常分为两个文件。一个文件用于保存程序的声明(declaration),
称为头文件。另一个文件用于保存程序的实现(implementation),称为定义( definition).</p>
<p>C++/C 程序的头文件以“.h”为后缀,C 程序的定义文件以“.c”为后缀,C++程序的定义文件通常以“.cpp”为后缀(也有一些系统以“.cc”或“.cxx”为后缀)。</p>
<h3 id="版权和版本的声明">1.1 版权和版本的声明</h3>
<p>版权和版本的声明位于头文件和定义文件的开头(参见示例1-1),主要内容有:  </p>
<ul>
<li>文件名称</li>
<li>作者,创建日期</li>
<li>版权信息  </li>
<li>文件描述</li>
</ul>
<p>示例1-1</p>
<pre><code>//
//  filename.h
//  projectname
//
//  Created by 作者名 on 14-7-23.
//  Copyright (c) 2014年 RYTong. All rights reserved.
//  
//  摘要:简要描述本文件的内容
//
</code></pre><h3 id="头文件宏定义">1.2 头文件宏定义</h3>
<p>为避免重复引用，每个头文件的内容必须由以下结构保护。</p>
<pre><code>/**
* Copyright and file description stuff ...
*/
#ifndef _ERT_DBI_DB_EVENT_H
#define _ERT_DBI_DB_EVENT_H
//(文件内容在此)
#endif // _ERT_DBI_DB_EVENT_H
</code></pre><p>此处注意以下事项：</p>
<ol>
<li>每个库或者模块的头文件macro必须有自己独特的前缀。如果我们的模块名是DBI，文件名是db-event.h，那么宏定义必须为_ERT_DBI_DB_EVENT_H。</li>
<li>如果文件名遵循Java类定义规范，宏定义必须将单词间用‘_’分开。例如，DBInterface.h的宏定义为_ERT_DB_INTERFACE_H。</li>
</ol>
<h3 id="定义文件的结构">1.3 定义文件的结构</h3>
<p>头文件由三部分内容组成:  </p>
<ol>
<li>头文件开头处的版权和版本声明(参见示例1-1)。</li>
<li>预处理块。  </li>
<li>程序的实现体(包括数据和代码)。  </li>
</ol>
<blockquote>
<p><strong>【规则1-3-1】</strong>为了防止头文件被重复引用,应当用ifndef/define/endif 结构产生预处理块。<br><strong>【规则1-3-2】</strong>用#include <filename.h> 格式来引用标准库的头文件(编译器将从标准库目录开始搜索)。
<strong>【规则1-3-3】</strong>用#include &quot;filename.h&quot; 格式来引用非标准库的头文件(编译器将从用户的工作目录开始搜索)。<br><strong>【建议1-3-1】</strong>头文件中只存放“声明”而不存放“定义”.<br><strong>【建议1-3-2】</strong>不提倡使用全局变量,尽量不要在头文件中出现象extern int value 这类声明。</p>
</blockquote>
<p>假设头文件名称为DBInterface.h,头文件的结构参见示例1-3。  </p>
<p>示例1-3</p>
<pre><code>// 版权和版本声明见示例1-1,此处省略。
#ifndef _ERT_DB_INTERFACE_H // 防止graphics.h 被重复引用
#define _ERT_DB_INTERFACE_H
#include &lt;math.h&gt; // 引用标准库的头文件
...
#include“myheader.h” //引用非标准库的头文件
...
void Function1(... ); // 全局函数声明
...
class Box // 类结构声明
{...
};
#endif
</code></pre><h3 id="目录结构">1.4 目录结构</h3>
<p>如果一个软件的头文件数目比较多(如超过十个),通常应将头文件和定义文件分别保存于不同的
目录,以便于维护。</p>
<p>例如可将头文件保存于include 目录,将定义文件保存于source 目录(可以是多级目录)。
如果某些头文件是私有的,它不会被用户的程序直接引用,则没有必要公开其“声明”。为了加强
信息隐藏,这些私有的头文件可以和定义文件存放于同一个目录。</p>
<h2 id="程序版式">2 程序版式</h2>
<h3 id="空格与制表符">2.1 空格与制表符</h3>
<p>我们使用空格进行缩进,不要使用制表符.通过设置将制表符替换为空格.每次缩进四个空格。</p>
<h3 id="代码行">2.2 代码行</h3>
<blockquote>
<p><strong>【规则2-2-1】</strong>一行代码只做一件事情,如只定义一个变量,或只写一条语句。这样的代码容易阅读,
并且方便于写注释。<br><strong>【规则2-2-2】</strong>if、for、while、do 等statement如果后续有code block,则<code>{</code>和当前的statement在同一行.不论执行语句有多少都要加{}。这样可以防止书写失误。<br><strong>【建议2-2-1】</strong>尽可能在定义变量的同时初始化该变量(就近原则)
如果变量的引用处和其定义处相隔比较远,变量的初始化很容易被忘记。如果引用了未被初始化的
变量,可能会导致程序错误。本建议可以减少隐患。</p>
</blockquote>
<p>例如</p>
<pre><code>int width = 10;  // 定义并初绐化width
int height = 10; // 定义并初绐化height
int depth = 10;  // 定义并初绐化depth
</code></pre><p>示例2-2(a) 风格良好的代码行</p>
<pre><code>int width;  // 宽度
int height; // 高度
int depth;  // 深度

x = a + b;
y = c + d;
z = e + f;

if (width &lt; height)
{
   dosomething();
}

for (initialization; condition; update)
{
  dosomething();
}
// 空行 other();
</code></pre><p>示例2-2(b) 风格不良的代码行</p>
<pre><code>int width, height, depth; // 宽度高度深度

X = a + b; y = c + d; z = e + f;

if (width &lt; height) dosomething();

for (initialization; condition; update)
   dosomething();
   other();
</code></pre><h3 id="代码行内的空格">2.3 代码行内的空格</h3>
<blockquote>
<p><strong>【规则2-3-1】</strong>关键字之后要留空格。象const、virtual、inline、case 等关键字之后至少要留一个 空格,否则无法辨析关键字。象if、for、while 等关键字之后应留一个空格再跟左括号‘(’,以突 出关键字。<br><strong>【规则2-3-2】</strong>函数名之后不要留空格,紧跟左括号<code>(</code>,以与关键字区别。<br><strong>【规则2-3-3】</strong><code>(</code>向后紧跟,<code>)</code>,<code>,</code>,<code>;</code>向前紧跟,紧跟处不留空格。<br><strong>【规则2-3-4】</strong><code>,</code>之后要留空格,如<code>Function(x, y, z)</code>。如果‘;’不是一行的结束符号,其后要留空格,如<code>for(initialization; condition; update)</code>。<br><strong>【规则2-3-5】</strong>赋值操作符、比较操作符、算术操作符、逻辑操作符、位域操作符,如 <code>“=”、“+=”“&gt;=”、 “&lt;=”、 “+”、 “*”、“% ”、“&amp;&amp; ”、“| | ”、“&lt;&lt; ”,“^ ”</code>等二元操作符的前后应当加空格。<br><strong>【规则2-3-6】</strong>一元操作符如<code>“!”、“~”、“++”、“--”、“&amp;”</code>(地址运算符)等前后不加空格。<br><strong>【规则2-3-7】</strong>像<code>“[]”、“.”、“-&gt;”</code>这类操作符前后不加空格。<br><strong>【建议2-3-1】</strong>对于表达式比较长的for语句和if语句,为了紧凑起见可以适当地去掉一些空格。
例如</p>
</blockquote>
<pre><code>for (i=0; i&lt;10; i++)和if ((a&lt;=b) &amp;&amp; (c&lt;=d))
void Func1(int x, int y, int z); // 良好的风格
void Func1 (int x,int y,int z);  // 不良的风格


if (year &gt;= 2000)                // 良好的风格
if(year&gt;=2000)                   // 不良的风格
if ((a&gt;=b) &amp;&amp; (c&lt;=d))            // 良好的风格
if(a&gt;=b&amp;&amp;c&lt;=d)                   // 不良的风格


for (i=0; i&lt;10; i++)             // 良好的风格
for(i=0;i&lt;10;i++)                // 不良的风格
for (i = 0; i &lt; 10; i ++)        // 过多的空格



x = a &lt; b ? a : b;               // 良好的风格
x=a&lt;b?a:b;                       // 不好的风格


int *x = &amp;y;                     // 良好的风格
int * x = &amp; y;                   // 不良的风格


array[5] = 0;                    // 不要写成array [ 5 ] = 0;
a.Function();                    // 不要写成a . Function();
b-&gt;Function();                   // 不要写成 b -&gt; Function();
</code></pre><h3 id="对齐">2.4 对齐</h3>
<blockquote>
<p><strong>【规则2-4-1】</strong>程序的分界符‘{’和‘}’应独占一行并且位于同一列,同时与引用它们的语句左对齐。<br><strong>【规则2-4-2】</strong>{ }之内的代码块在‘{’右边数格处左对齐。</p>
</blockquote>
<pre><code>void Function(int x)       void Function(int x){
{                             ... // program code
    ... // program code      }
}
        风格良好的对齐               风格不良的对齐
</code></pre><h3 id="长行拆分">2.5 长行拆分</h3>
<blockquote>
<p><strong>【规则2-5-1】</strong>代码行最大长度宜控制在70至80个字符以内。代码行不要过长,否则看不过来,也不便于打印。
<strong>【规则2-5-2】</strong>长表达式要在低优先级操作符处拆分成新行,操作符放在新行之首(以便突出操作符)。</p>
</blockquote>
<p>拆分出的新行要进行适当的缩进,使排版整齐,语句可读。</p>
<pre><code>if ((very_longer_variable1 &gt;= very_longer_variable12)
        &amp;&amp; (very_longer_variable3 &lt;= very_longer_variable14)
        &amp;&amp; (very_longer_variable5 &lt;= very_longer_variable16))
{
    dosomething();
}
------------------------------------------------------------------
virtual CMatrix CMultiplyMatrix (CMatrix leftMatrix,
                                    CMatrix rightMatrix);

------------------------------------------------------------------
For (very_longer_initialization;
        very_longer_condition;
        very_longer_update)
{
        dosomething();
}
</code></pre><h3 id="修饰符的位置">2.6 修饰符的位置</h3>
<blockquote>
<p><strong>【规则2-6-1】</strong>将修饰符 * 和 &amp;紧靠变量名</p>
</blockquote>
<p>例如:</p>
<pre><code>char *name;  
int * x, y; // 此处y会被误解为指针
</code></pre><h3 id="类的版式">2.7 类的版式</h3>
<p>类可以将数据和函数封装在一起,其中函数表示了类的行为(或称服务)。类提供关键字public、protected 和private,分别用于声明哪些数据和函数是公有的、受保护的或者是私有的。这样可以达到信息隐藏的目的,即让类仅仅公开必须要让外界知道的内容,而隐藏其它一切内容。  </p>
<p>类的版式主要有两种方式:  </p>
<ul>
<li>将private 类型的数据写在前面,而将public 类型的函数写在后面,如示例2-7-1(a)。采用这种版式的程序员主张类的设计“以数据为中心”,重点关注类的内部结构。  </li>
<li>将public 类型的函数写在前面,而将private 类型的数据写在后面,如示例2.7.1(b)采用这种版式的程序员主张类的设计“以行为为中心”,重点关注的是类应该提供什么样的接口(或服务)。</li>
</ul>
<blockquote>
<p><strong>【建议2-7-1】</strong>建议采用“以行为为中心”的书写方式,即首先考虑类应该提供什么样的函数。这样做不仅让自己在设计类时思路清晰,而且方便别人阅读。</p>
</blockquote>
<p>示例2.7.1(a) 以数据为中心版式</p>
<pre><code>class A {
    private:
    int i, j;
    float x, y;
    ...
    public:
    void Func1(void);
    void Func2(void);
    ...
}
</code></pre><p>示例2.7.1(b) 以行为为中心的版式</p>
<pre><code>class A {
    public:
    void Func1(void);
    void Func2(void);
    ...
    private:
    int i, j;
    float x, y;
    ...
}
</code></pre><h3 id="空行">2.8 空行</h3>
<p>空行起着分隔程序段落的作用。空行得体(不过多也不过少)将使程序的布局更加清晰。空行不会
浪费内存,所以不要舍不得用空行。</p>
<blockquote>
<p><strong>【规则2-8-1】</strong>在每个类声明之后、每个函数定义结束之后都要加空行。参见示例2-8(a)<br><strong>【规则2-8-2】</strong>在一个函数体内,逻辑上密切相关的语句之间不加空行,其它地方应加空行分隔。参见
示例2-8(a) 函数之间的空行</p>
</blockquote>
<pre><code>// 空行
void Function1(.) {
... }
// 空行
void Function2(.) {
... }
// 空行
void Function3(.) {
... }
</code></pre><p>示例2-8(b) 函数内部的空行</p>
<pre><code>// 空行
while (condition) {
statement1;
// 空行
if (condition) {
statement2; }
else {
statement3; }
// 空行 statement4;
}
</code></pre><h2 id="命名规则">3 命名规则</h2>
<h3 id="共性规则">3.1 共性规则</h3>
<p>本节论述的共性规则是被大多数程序员采纳的,我们应当在遵循这些共性规则的前提下,再扩充特
定的规则,如3.2 节。  </p>
<p>命名两个基本原则:</p>
<ol>
<li>含义清晰,不易混淆;</li>
<li>不和其它模块、系统API的命名空间相冲突即可。</li>
</ol>
<blockquote>
<p><strong>【规则3-1-1】</strong>标识符应当直观且可以拼读,可望文知意,不必进行“解码”。</p>
</blockquote>
<p>标识符最好采用英文单词或其组合,便于记忆和阅读。切忌使用汉语拼音来命名。程序中的英文
单词一般不会太复杂,用词应当准确。例如不要把<code>CurrentValue</code>写成<code>NowValue</code>。尽量不要使用
缩写，除非你确认它不具备二义性。</p>
<p>例如,合理的缩写方式：</p>
<pre><code>int price_count_reader;    // No abbreviation.
int num_errors;            // &quot;num&quot; is a widespread convention.
int num_dns_connections;   // Most people know what &quot;DNS&quot; stands for.
</code></pre><p>不合理的缩写方式：</p>
<pre><code>int n;                     // Meaningless.
int nerr;                  // Ambiguous abbreviation.
int n_comp_conns;          // Ambiguous abbreviation.
int wgc_connections;       // Only your group knows what this stands for.
int pc_reader;             // Lots of things can be abbreviated &quot;pc&quot;.
int cstmr_id;              // Deletes internal letters.
</code></pre><blockquote>
<p><strong>【规则3-1-2】</strong>标识符的长度应当符合“min-length &amp;&amp; max-information”原则。  </p>
</blockquote>
<p>一般来说,长名字能更好地表达含义,所以函数名、变量名、类名长达十几个字符不足为怪。
但名字并不是越长越好! 例如变量名<code>maxval</code>就比<code>maxValueUntilOverflow</code>好用。
单字符的名字也是有用的, 常见的如<code>i,j,k,m,n,x,y,z</code>等,它们通常可用作函数内的局部变量,具有
非常直观的含义（符合规则3-1-1）。</p>
<blockquote>
<p><strong>【规则3-1-3】</strong>程序中不要出现仅靠大小写区分的相似的标识符。</p>
</blockquote>
<p>例如:  </p>
<pre><code>int x, X; // 变量x 与X 容易混淆
void foo(int x);  
void FOO(float x);// 函数foo 与FOO 容易混淆
</code></pre><blockquote>
<p><strong>【规则3-1-4】</strong>程序中不要出现标识符完全相同的局部变量和全局变量,尽管两者的作用域不同而不会 发生语法错误,但会使人误解。<br><strong>【规则3-1-5】</strong>变量的名字应当使用“名词”或者“形容词+名词”。  </p>
</blockquote>
<p>例如:</p>
<pre><code>float value;
float oldValue;
</code></pre><blockquote>
<p><strong>【规则3-1-6】</strong>全局函数的名字应当使用“动词”或者“动词+名词”(动宾词组)。类的成员函数应当只使用“动词”,被省略掉的名词就是对象本身。  </p>
</blockquote>
<p>例如:</p>
<pre><code>drawBox(); // 全局函数  
box-&gt;draw(); // 类的成员函数
</code></pre><blockquote>
<p><strong>【规则3-1-7】</strong>用正确的反义词组命名具有互斥意义的变量或相反动作的函数等。  </p>
</blockquote>
<p>例如:  </p>
<pre><code>int minValue;  
int maxValue;  
int setValue(⋯ );  
int getValue(⋯ );
</code></pre><blockquote>
<p><strong>【建议3-1-1】</strong>尽量避免名字中出现数字编号,如<code>value1,value2</code>等,除非逻辑上的确需要编号。</p>
</blockquote>
<h3 id="文件命名规则">3.2 文件命名规则</h3>
<p>文件的扩展名应该如下:</p>
<ul>
<li>.h, C/C++/Objective-C的头文件</li>
<li>.m, Ojbective-C实现文件</li>
<li>.mm, Ojbective-C++的实现文件</li>
<li>.cpp, 纯C++的实现文件</li>
<li>.c, 纯C的实现文件</li>
</ul>
<p>OC分类的文件名应该包含被扩展的类的名字,如:<code>GTMNSString+Utils.h</code>或
<code>GTMNSTextView+Autocomplete.h</code>。</p>
<p>所有的文件名应以大写字母开头的单词组合而成.</p>
<p>所有的C++/java/OC等面向对象语言的头文件和实现文件应为该文件中的类名。</p>
<h3 id="类名">3.3 类名</h3>
<p>应用程序级的代码,应该尽量避免不必要的前缀.当设计跨不同应用程序的代码时,应该使用前缀,如:ERTControl.  </p>
<blockquote>
<p><strong>【规则3-3-1】</strong>类名,分类名,协议名,结极体,类型定义(typedef),枚举应该以大写字母开头,并混合小写字母来分割单词.Camel命名法.  </p>
</blockquote>
<p>例如:  </p>
<pre><code>class Node; // 类名
class LeafNode; // 类名  
struct UrlTableProperties  
typedef hash_map&lt;UrlTableProperties *, string&gt; PropertiesMap;  
enum UrlTableErrors { ...
</code></pre><h3 id="变量名">3.4 变量名</h3>
<blockquote>
<p><strong>【规则3-4-1】</strong>变量和参数用小写字母开头的单词,后续单词首字母大写。</p>
</blockquote>
<p>例如:  </p>
<pre><code>BOOL flag;
int drawMode;
</code></pre><blockquote>
<p><strong>【规则3-4-2】</strong>成员变量应该混合大小写,并以下划线作为后缀,如value_;<br><strong>【规则3-4-3】</strong>如果需要定义全局变量或者静态变量,变量名称全部使用大写，单词之间以下划线分隔。</p>
</blockquote>
<p>例如:  </p>
<pre><code>int HOW_MANY_PEOPLE; // 全局变量  
int HOW_MUCH_MONEY; // 全局变量  
void init(⋯) {  
    static int INIT_VALUE; // 静态变量  
    ⋯
}
</code></pre><blockquote>
<p><strong>【规则3-4-5】</strong>常量名(如const)应该以小写字母k开头,使用混合大小写的格式分割单词,如  </p>
</blockquote>
<pre><code>kReplaceStyle  
const int kMax = 100;
</code></pre><blockquote>
<p><strong>【规则3-4-6】</strong>宏命名全部大写、使用下划线单词  </p>
</blockquote>
<pre><code> #define ROUND(x) ...
 #define PI_ROUNDED 3.0
</code></pre><blockquote>
<p><strong>【规则3-4-7】</strong>枚举值命名使用于类命名相同的规则,使用以大写字母开头,并混合小写字母分割单词.</p>
</blockquote>
<p>枚举名称属于类型,因此大小写混合:UrlTableErrors。  </p>
<pre><code>enum UrlTableErrors {
OK = 0,  
ErrorOutOfMemory,
ErrorMalformedInput,
};
</code></pre><h3 id="函数名">3.5 函数名</h3>
<blockquote>
<p><strong>【规则3-5-1】</strong>函数名用小写字母开头的单词,后续单词首字母大写。例如:</p>
</blockquote>
<pre><code>void draw(void); // 函数名  
void setValue(int value); // 函数名
</code></pre><blockquote>
<p><strong>【规则3-5-2】</strong>访问器方法应该与他们getting的成员变量的名字一样,但不应该以get作为前缀,且不需要<code>_</code>后缀.  </p>
</blockquote>
<p>例如:  </p>
<pre><code>int value_;  
int value();  
void setValue(int value);
</code></pre><blockquote>
<p><strong>【规则3-5-3】</strong>为了防止某一软件库中的一些标识符和其它软件库中的冲突,可以为各种标识符加上能反映软件性质的前缀。  </p>
</blockquote>
<p>例如三维图形标准OpenGL 的所有库函数均以gl 开头,所有常量(或宏定义)均以GL开头。</p>
<h2 id="注释">4 注释</h2>
<p>通过对函数或过程、变量、结构等正确的命名以及合理地组织代码的结构，使代码成为自注释的。说明：清晰准确的函数、变量等的命名，可增加代码可读性，并减少不必要的注释。</p>
<p>注释的内容要清楚、明了，含义准确，防止注释二义性。说明：错误的注释不但无益反而有害。</p>
<h3 id="注释格式">4.1 注释格式</h3>
<p>参考文档:<a href="http://www.stack.nl/~dimitri/doxygen/" target="_blank">doxygen</a></p>
<p>C语言的注释符为<code>/*⋯ */</code>。C++语言中,程序块的注释常采用<code>/*⋯ */</code>,行注释一般采用
 <code>//⋯</code>。</p>
<p>注释通常用于:</p>
<ul>
<li>版本、版权声明;  </li>
<li>函数接口说明;</li>
<li>重要的代码行或段落提示。  <blockquote>
<p><strong>【规则4-1-1】</strong>注释是对代码的“提示”,而不是文档。程序中的注释不可喧宾夺主,注释太多了会让人眼花缭乱。<br><strong>【规则4-1-2】</strong>如果代码本来就是清楚的,则不必加注释。否则多此一举,令人厌烦。<br><strong>【规则4-1-3】</strong>边写代码边注释,修改代码同时修改相应的注释,以保证注释与代码的一致性。不再有用的注释要删除。<br><strong>【规则4-1-4】</strong>注释应当准确、易懂,防止注释有二义性。错误的注释不但无益反而有害。<br><strong>【规则4-1-5】</strong>尽量避免在注释中使用缩写,特别是不常用缩写。<br><strong>【规则4-1-6】</strong>注释的位置应与被描述的代码相邻,可以放在代码的上方或右方,不可放在下方。<br><strong>【规则4-1-7】</strong>当代码比较长,特别是有多重嵌套时,应当在一些段落的结束处加注释,便于阅读。  </p>
</blockquote>
</li>
</ul>
<h3 id="注释量">4.2 注释量</h3>
<p>一般情况下，源程序有效注释量必须在20％以上。</p>
<blockquote>
<p>说明：注释的原则是有助于对程序的阅读理解，在该加的地方都加了，注释不宜太多也不能太少，注释语言必须准确、易懂、简洁。</p>
</blockquote>
<h3 id="注释目的">4.3 注释目的</h3>
<p>在代码的功能、意图层次上进行注释，提供有用、额外的信息。注释的目的是为了解释代码，提供代码以外的信息，帮助读者理解代码，防止没必要的重复注释信息。  </p>
<p>示例：如下注释意义不大。</p>
<pre><code>/* if receive_flag is TRUE */
if (receive_flag)
</code></pre><p>而如下的注释则给出了额外有用的信息。</p>
<pre><code>/* if mtp receive a message from links */
if (receive_flag)
</code></pre><h3 id="注释语言">4.4 注释语言</h3>
<p>应考虑程序易读及外观排版的因素，使用的语言若是中、英兼有的，建议多使用中文，除非能用非常流利准确的英文表达。说明：注释语言不统一，影响程序易读性和外观排版，出于对维护人员的考虑，建议使用中文。</p>
<h3 id="注释更新">4.5 注释更新</h3>
<p>修改代码同时修改相应的注释，以保证注释与代码的一致性。不再有用的注释要删除。</p>
<h3 id="源文件头部应进行注释">4.6 源文件头部应进行注释</h3>
<p>说明性文件（如头文件.h文件、.inc文件、.def文件、编译说明文件.cfg等）头部应进行注释，注释必须列出：版权说明、版本号、生成日期、作者、内容、功能等，当你对其他人的原始代码作出重大修改时,请讲你的名字加到作者中.  </p>
<p>示例：下面这段头文件的头注释比较标准，当然，并不局限于此格式，但上述信息建议要包含在内。</p>
<pre><code>/**
    * Copyright (C), 1988-1999, Digital China Networks.
    * File name:      // 文件名
    * Author:       Version:        Date: // 作者、版本及完成日期
    * Description:    // 对本文件进行一些描述
    * Others:         // 其它内容的说明
    * History:        // 修改历史记录列表，每条修改记录应包括修改日期、修改
    *                 // 者及修改内容简述  
    *    Date:
    *    Author:
    *    Modification:
    *
    */
</code></pre><h3 id="函数头部应进行注释">4.7 函数头部应进行注释</h3>
<p>列出：函数的目的/功能、输入参数、输出参数、返回值。</p>
<p>注视格式遵循<a href="http://www.stack.nl/~dimitri/doxygen/" target="_blank">doxygen</a>。</p>
<p>示例：下面这段函数的注释比较标准，当然，并不局限于此格式，但上述信息建议要包含在内。</p>
<pre><code>/**
    * Description:    // 函数功能、性能等的描述
    * Input:           // 输入参数说明，包括每个参数的作
    *                   // 用、取值说明及参数间关系。
    * Output:         // 对输出参数的说明。
    * Return:         // 函数返回值的说明
    * Others:         // 其它说明
    */
</code></pre><h3 id="数据结构注释">4.8 数据结构注释</h3>
<p>数据结构声明(包括数组、结构、类、枚举等)，如果其命名不是充分自注释的，必须加以注释。对数据结构的注释应放在其上方相邻位置，不可放在下面；对结构中的每个域的注释放在此域的右方。</p>
<p>示例：可按如下形式说明枚举/数据/联合结构。</p>
<pre><code>/* sccp interface with sccp user primitive message name */
enum  SCCP_USER_PRIMITIVE
{
    N_UNITDATA_IND, /* sccp notify sccp user unit data come */
    N_NOTICE_IND,   /* sccp notify user the No.7 network can not */
                        /* transmission this message */
    N_UNITDATA_REQ, /* sccp user&#39;s unit data transmission request*/
};
</code></pre><h3 id="全局变量注释">4.9 全局变量注释</h3>
<p>全局变量要有较详细的注释，包括对其功能、取值范围等说明。示例：</p>
<pre><code>/**
    * The ErrorCode when SCCP translate
    * Global Title failure, as follows       // 变量作用、含义
    * 0 － SUCCESS   1 － GT Table error
    * 2 － GT error  Others － no use        // 变量取值范围
    * only  function  SCCPTranslate() in
    * this modual can modify it,  and  other
    * module can visit it through call
    * the  function GetGTTransErrorCode()// 使用方法
    */
BYTE g_GTTranErrorCode;
</code></pre><h3 id="注释位置">4.10 注释位置</h3>
<p>注释应与其描述的代码相近，对代码的注释应放在其上方或右方（对单条语句的注释）相邻位置，不可放在下面，如放于上方则需与其上面的代码用空行隔开。示例：如下例子不符合规范。</p>
<p>例1：</p>
<pre><code>/**
    * get replicate sub system index and net indicator
    */
repssn_ind = ssn_data[index].repssn_index;
repssn_ni = ssn_data[index].ni;
</code></pre><p>例2：</p>
<pre><code>repssn_ind = ssn_data[index].repssn_index;
repssn_ni = ssn_data[index].ni;
/* get replicate sub system index and net indicator */
</code></pre><p>应如下书写</p>
<pre><code>/** get replicate sub system index and net indicator */
repssn_ind = ssn_data[index].repssn_index;
repssn_ni = ssn_data[index].ni;
</code></pre><p>避免在一行代码或表达式的中间插入注释。除非必要，不应在代码或表达中间插入注释，否则容易使代码可理解性变差。</p>
<h2 id="表达式和基本语句">5 表达式和基本语句</h2>
<h3 id="运算符的优先级">5.1 运算符的优先级</h3>
<blockquote>
<p><strong>【规则5-1-1】</strong>如果代码行中的运算符比较多,用括号确定表达式的操作顺序,避免使用默认的优先级。</p>
</blockquote>
<p>为了防止产生歧义并提高可读性,应当用括号确定表达式的操作顺序。</p>
<p>例如:</p>
<pre><code>word = (high &lt;&lt; 8) | low
if ((a | b) &amp;&amp; (a &amp; c))
</code></pre><h3 id="复合表达式">5.2 复合表达式</h3>
<p>如<code>a = b = c = 0</code>这样的表达式称为复合表达式。允许复合表达式存在的理由是:</p>
<ul>
<li>书写简洁;</li>
<li>可以提高编译效率。但要防止滥用复合表达式。</li>
</ul>
<blockquote>
<p><strong>【规则5-2-1】</strong>不要编写太复杂的复合表达式。  </p>
</blockquote>
<p>例如:</p>
<pre><code>i = a &gt;= b &amp;&amp; c &lt; d &amp;&amp; c + f &lt;= g + h ; // 复合表达式过于复杂
</code></pre><blockquote>
<p><strong>【规则5-2-2】</strong>不要有多用途的复合表达式。  </p>
</blockquote>
<p>例如:</p>
<pre><code>d = (a = b + c) + r ; //该表达式既求a 值又求d 值。
</code></pre><p>应该拆分为两个独立的语句:  </p>
<pre><code>a = b + c;  
d = a + r;
</code></pre><blockquote>
<p><strong>【规则5-2-3】</strong>不要把程序中的复合表达式与“真正的数学表达式”混淆。  </p>
</blockquote>
<p>例如:</p>
<pre><code>if (a &lt; b &lt; c)   // a &lt; b &lt; c 是数学表达式而不是程序表达式
</code></pre><p>并不表示 <code>if ((a&lt;b) &amp;&amp; (b&lt;c))</code> 而是成了令人费解的<code>if((a&lt;b)&lt;c)</code>.</p>
<h3 id="if-语句">5.3 if 语句</h3>
<p>if 语句是C++/C 语言中最简单、最常用的语句,然而很多程序员用隐含错误的方式写if 语句。本
节以“与零值比较”为例,展开讨论。</p>
<h4 id="布尔变量与零值比较">5.3.1 布尔变量与零值比较</h4>
<blockquote>
<p><strong>【规则5-3-1】</strong>不可将布尔变量直接与TRUE、FALSE 或者1、0 进行比较。</p>
</blockquote>
<p>根据布尔类型的语义,零值为“假”(记为FALSE),任何非零值都是“真”(记为TRUE)。 TRUE 的值究竟是什么并没有统一的标准。例如<code>Visual C++``将TRUE定义为1,而</code>Visual Basic`则将TRUE定义为-1。<br>假设布尔变量名字为flag,它与零值比较的标准if，语句如下:</p>
<pre><code>if (flag) // 表示flag 为真
if (!flag) // 表示flag 为假
</code></pre><p>其它的用法都属于不良风格,例如:</p>
<pre><code>if (flag == TRUE)  
if (flag == 1 )  
if (flag == FALSE)  
if (flag == 0)
</code></pre><h4 id="整型变量与零值比较">5.3.2 整型变量与零值比较</h4>
<blockquote>
<p><strong>【规则5-3-2】</strong>应当将整型变量用“==”或“!=”直接与0 比较。<br>假设整型变量的名字为value,它与零值比较的标准if 语句如下:</p>
</blockquote>
<pre><code>if (value == 0)  
if (value != 0) 不可模仿布尔变量的风格而写成  
if (value) // 会让人误解value 是布尔变量  
if (!value)
</code></pre><h4 id="浮点变量与零值比较">5.3.3 浮点变量与零值比较</h4>
<blockquote>
<p><strong>【规则5-3-3】</strong>不可将浮点变量用“==”或“!=”与任何数字比较。<br>千万要留意,无论是float 还是double 类型的变量,都有精度限制。所以一定要避免将浮点变量 用“==”或“!=”与数字比较,应该设法转化成“&gt;=”或“&lt;=”形式。  </p>
</blockquote>
<p>假设浮点变量的名字为x,应当将  </p>
<pre><code>if (x == 0.0) // 隐含错误的比较
</code></pre><p>转化为</p>
<pre><code>if ((x&gt;=-EPSINON) &amp;&amp; (x&lt;=EPSINON))
</code></pre><p>其中EPSINON 是允许的误差(即精度)。</p>
<h4 id="指针变量与零值比较">5.3.4 指针变量与零值比较</h4>
<blockquote>
<p><strong>【规则5-3-4】</strong>应当将指针变量用“==”或“!=”与NULL 比较。<br>指针变量的零值是“空”(记为NULL)。尽管NULL 的值与0 相同,但是两者意义不同。假设指针 变量的名字为p,它与零值比较的标准if</p>
</blockquote>
<p>语句如下:</p>
<pre><code>if (p == NULL)     // p 与NULL 显式比较,强调p 是指针变量  
if (p != NULL)
</code></pre><p>不要写成  </p>
<pre><code>if (p == 0)       // 容易让人误解p 是整型变量  
if (p != 0)
</code></pre><p>或者</p>
<pre><code>if (p)            // 容易让人误解p 是布尔变量  
if (!p)
</code></pre><h4 id="循环语句的效率">5.3.5 循环语句的效率</h4>
<p>C++/C 循环语句中,for 语句使用频率最高,while 语句其次,do 语句很少用。本节重点论述循
环体的效率。提高循环体效率的基本办法是降低循环体的复杂性。</p>
<blockquote>
<p><strong>【建议5-4-1】</strong>在多重循环中,如果有可能,应当将最长的循环放在最内层,最短的循环放在最外层, 以减少CPU 跨切循环层的次数。例如示例5-4(b)的效率比示例5-4(a)的高。</p>
</blockquote>
<pre><code>    for (row=0; row&lt;100; row++)                for (col=0; col&lt;5; col++ )
    {                                          {
     for ( col=0; col&lt;5; col++ )                  for (row=0; row&lt;100; row++)
     {                                            {
       sum = sum + a[row][col];                       sum = sum + a[row][col];
     }                                            }
    }                                          }
    示例5-4(a) 低效率:长循环在最外层                  示例5-4(b) 高效率:长循环在最内层
</code></pre><blockquote>
<p><strong>【建议5-4-2】</strong>如果循环体内存在逻辑判断,并且循环次数很大,宜将逻辑判断移到循环体的外面。  </p>
</blockquote>
<p>示 例5-4(c)的程序比示例5-4(d)多执行了N-1 次逻辑判断。并且由于前者总要进行逻辑判断,打断了循环 “流水线”作业,使得编译器不能对循环进行优化处理,降低了效率。如果N 非常大,最好采用示例5-4(d) 的写法,可以提高效率。如果N 非常小,两者效率差别并不明显,采用示例5-4(c)的写法比较好,因 为程序更加简洁。</p>
<pre><code>for (i=0; i&lt;N; i++)                        if (condition)
{                                          {
   if (condition)                             for (i=0; i&lt;N; i++)
      DoSomething();                             DoSomething();
   else                                    }
      DoOtherthing();                      else
}                                          {
表5-4(c) 效率低但程序简洁                        for (i=0; i&lt;N; i++)
                                                DoOtherthing();
                                           }
                                           表5-4(d) 效率高但程序不简洁
</code></pre><h3 id="for-语句的循环控制变量">5.4 for 语句的循环控制变量</h3>
<blockquote>
<p><strong>【规则5-5-1】</strong>不可在for 循环体内修改循环变量,防止for 循环失去控制。<br><strong>【建议5-5-2】</strong>建议for 语句的循环控制变量的取值采用“半开半闭区间”写法。  </p>
</blockquote>
<p>示例5-5(a)中的x 值属于半开半闭区间“0 =&lt; x &lt; N”,起点到终点的间隔为N,循环次数为N。</p>
<p>示例5-5(b)中的x 值属于闭区间“0 =&lt; x &lt;= N-1”,起点到终点的间隔为N-1,循环次数为N。</p>
<p>相比之下,示例5-5(a)的写法更加直观,尽管两者的功能是相同的。</p>
<pre><code>for (int x=0; x&lt;N; x++)                for (int x=0; x&lt;=N-1; x++)
{                                      {
...                                     ...
}                                      }
示例5-5(a) 循环变量属于半开半闭区间         示例5-5(b) 循环变量属于闭区间
</code></pre><h3 id="switch-语句">5.5 switch 语句</h3>
<blockquote>
<p><strong>【规则5-6-1】</strong>每个case 语句的结尾不要忘了加break,否则将导致多个分支重叠(除非有意使多个分 支重叠)。<br><strong>【规则5-6-2】</strong>不要忘记最后那个default 分支。即使程序真的不需要default 处理,也应该保留语句 default : break;</p>
</blockquote>
<h3 id="goto-语句">5.6 goto 语句</h3>
<p>自从提倡结构化设计以来,goto 就成了有争议的语句。首先,由于goto 语句可以灵活跳转,如果
不加限制,它的确会破坏结构化设计风格。其次,goto 语句经常带来错误或隐患。它可能跳过了某些 对象的构造、变量的初始化、重要的计算等语句,例如:  </p>
<pre><code>goto state;  
String s1, s2; // 被goto 跳过
int sum = 0; // 被goto 跳过 ...  
state:  
...
</code></pre><p>如果编译器不能发觉此类错误,每用一次goto 语句都可能留下隐患。  </p>
<p>很多人建议废除C++/C 的goto 语句,以绝后患。但实事求是地说,错误是程序员自己造成的,不是 goto 的过错。goto 语句至少有一处可显神通,它能从多重循环体中咻地一下子跳到外面,用不着写很 多次的break 语句。就象楼房着火了,来不及从楼梯一级一级往下走,可从窗口跳出火坑。所以我们主 张少用、慎用goto 语句,而不是完全禁用。</p>
<h3 id="常量">5.7 常量</h3>
<p>常量是一种标识符,它的值在运行期间恒定不变。C 语言用#define 来定义常量(称为宏常量)。
C++ 语言除了#define 外还可以用const 来定义常量(称为const 常量)。</p>
<h3 id="const-与define-的比较">5.8 const 与#define 的比较</h3>
<p>C++语言可以用const来定义常量,也可以用#define来定义常量。但是前者比后者有更多的优点:</p>
<ul>
<li>const 常量有数据类型,而宏常量没有数据类型。编译器可以对前者进行类型安全检查。而对后 者只进行字符替换,没有类型安全检查,并且在字符替换可能会 产生意料不到的错误(边际效应)。  </li>
<li>有些集成化的调试工具可以对const 常量进行调试,但是不能对宏常量进行调试。</li>
</ul>
<blockquote>
<p><strong>【规则5-8-1】</strong>尽量使用含义直观的常量来表示那些将在程序中多次出现的数字或字符串。  </p>
</blockquote>
<p>例如:</p>
<pre><code>#define MAX 100 /* C 语言的宏常量*/  
const int MAX = 100; // C++ 语言的const 常量
const float PI = 3.14159; // C++ 语言的const 常量
</code></pre><blockquote>
<p><strong>【规则5-8-2】</strong>在C++ 程序中只使用const 常量而不使用宏常量,即const 常量完全取代宏常量。</p>
</blockquote>
<h3 id="常量定义规则">5.9 常量定义规则</h3>
<blockquote>
<p><strong>【规则5-8-3】</strong>需要对外公开的常量放在头文件中,不需要对外公开的常量放在定义文件的头部。为便 于管理,可以把不同模块的常量集中存放在一个公共的头文件中。<br><strong>【规则5-8-4】</strong>如果某一常量与其它常量密切相关,应在定义中包含这种关系,而不应给出一些孤立的值。  </p>
</blockquote>
<p>例如:  </p>
<pre><code>const float kRadius = 100;  
const float kDiameter = kRadius * 2;
</code></pre><h2 id="函数设计">6 函数设计</h2>
<h3 id="参数的规则">6.1 参数的规则</h3>
<blockquote>
<p><strong>【规则6-1-1】</strong>参数的书写要完整,不要贪图省事只写参数的类型而省略参数名字。如果函数没有参数, 则用void 填充。</p>
</blockquote>
<p>例如:</p>
<pre><code>void setValue(int width, int height);   // 良好的风格  
void setValue(int, int);                // 不良的风格  
float getValue(void);                   // 良好的风格
float getValue();                       // 不良的风格
</code></pre><blockquote>
<p><strong>【规则6-1-2】</strong>参数命名要恰当,顺序要合理。</p>
</blockquote>
<p>例如:编写字符串拷贝函数stringCopy,它有两个参数。如果把参数名字起为str1 和str2,例如</p>
<pre><code>void stringCopy(char *str1, char *str2);
</code></pre><p>那么我们很难搞清楚究竟是把str1 拷贝到str2 中,还是刚好倒过来。可以把参数名字起得更有意
义,如叫strSource 和strDestination。这样从名字上就可以看出应该把strSource 拷贝到 strDestination。另外,这两个参数那一个该在前那一个该在后?参数的顺序要遵循程序员的习惯。一 般地,应将目的参数放在前面,源参数放在后面。</p>
<blockquote>
<p><strong>【规则6-1-3】</strong>如果参数是指针,且仅作输入用,则应在类型前加const,以防止该指针在函数体内被意 外修改。  </p>
</blockquote>
<p>例如:</p>
<pre><code>void stringCopy(char *strDestination,const char *strSource);
</code></pre><blockquote>
<p><strong>【规则6-1-4】</strong>如果输入参数以值传递的方式传递对象,则宜改用“const &amp;”方式来传递,这样可以省去临时对象的构造和析构过程,从而提高效率。<br><strong>【规则 6-1-5】</strong>参数缺省值只能出现在函数的声明中,而不能出现在定义体中。<br><strong>【规则 6-1-6】</strong>如果函数有多个参数,参数只能从后向前挨个儿缺省,否则将导致函数调用语句怪模怪样。<br><strong>【建议6-1-1】</strong>避免函数有太多的参数,参数个数尽量控制在5 个以内。如果参数太多,在使用时容易 将参数类型或顺序搞错。<br><strong>【建议6-1-2】</strong>尽量不要使用类型和数目不确定的参数。  </p>
</blockquote>
<h3 id="返回值的规则">6.2 返回值的规则</h3>
<blockquote>
<p><strong>【规则6-2-1】</strong>不要省略返回值的类型。<br>C++语言有很严格的类型安全检查,不允许上述情况发生。由于C++程序可以调用C 函数,为了避免 混乱,规定任何C++/ C 函数都必须有类型。如果函数没有返回值,那么应声明为void类型。<br><strong>【规则6-2-2】</strong>函数名字与返回值类型在语义上不可冲突。<br><strong>【规则6-2-3】</strong>不要将正常值和错误标志混在一起返回。正常值用输出参数获得,而错误标志用return 语 句返回。<br><strong>【规则 6-2-4】</strong>给以“指针传递”方式的函数返回值加 const 修饰,那么函数返回值(即指针)的内容 不能被修改,该返回值只能被赋给加 const 修饰的同类型指针。<br><strong>【规则 6-2-5】</strong>函数返回值采用“值传递方式”,由于函数会把返回值复制到外部临时的存储单元中, 加 const 修饰没有任何价值。<br><strong>【规则 6-2-6】</strong>函数返回值采用“引用传递”的场合并不多,这种方式一般只出现在类的赋值函数中, 目的是为了实现链式表达。  </p>
</blockquote>
<h3 id="函数内部实现的规则">6.3 函数内部实现的规则</h3>
<p>不同功能的函数其内部实现各不相同,看起来似乎无法就“内部实现”达成一致的观点。但根据经
验,我们可以在函数体的“入口处”和“出口处”从严把关,从而提高函数的质量。  </p>
<blockquote>
<p><strong>【规则6-3-1】</strong>在函数体的“入口处”,对参数的有效性进行检查。<br><strong>【规则6-3-2】</strong>在函数体的“出口处”,对return 语句的正确性和效率进行检查。<br><strong>【规则6-3-3】</strong>避免多个return的情况。</p>
</blockquote>
<p>有些处理，因为逻辑的需要不得不在函数结束时做,当你在前面return时,代码会被忽略.</p>
<p>违规编码</p>
<pre><code>- (BOOL) isAdult:(NSInteger) userAge {  
    if (userAge &gt; 18) {  
        return YES;  
    }else{  
        return NO;  
    }  
}
</code></pre><p>正确编码</p>
<pre><code>- (BOOL) isAdult:(NSInteger) userAge {  
    if (userAge &gt; 18) {  
        return YES;  
    }else{  
        return NO;  
    }  
}
</code></pre><p>注意事项如下:  </p>
<ul>
<li><p>return 语句不可返回指向“栈内存”的“指针”或者“引用”,因为该内存在函数体结束时被自 动销毁。例如  </p>
<pre><code>  char * Func(void)  
  {  
  char str[] = “hello world”; // str 的内存位于栈上
  ⋯  
  return str; // 将导致错误  
  }
</code></pre></li>
<li>要搞清楚返回的究竟是“值”、“指针”还是“引用”。</li>
<li>如果函数返回值是一个对象,要考虑return 语句的效率。</li>
</ul>
<h3 id="其它建议">6.4 其它建议</h3>
<blockquote>
<p><strong>【建议6-4-1】</strong>函数的功能要单一,不要设计多用途的函数。<br><strong>【建议6-4-2】</strong>函数体的规模要小,尽量控制在50 行代码之内。<br><strong>【建议6-4-3】</strong>尽量避免函数带有“记忆”功能。相同的输入应当产生相同的输出。带有“记忆”功能 的函数,其行为可能是不可预测的,因为它的行为可能取决于某种“记忆状态”。这样的函数既不易理 解又不利于测试和维护。在C/C++语言中,函数的static 局部变量是函数的“记忆”存储器。建议尽量 少用static 局部变量,除非必需。<br><strong>【建议6-4-4】</strong>不仅要检查输入参数的有效性,还要检查通过其它途径进入函数体内的变量的有效性, 例如全局变量、文件句柄等。<br><strong>【建议6-4-5】</strong>用于出错处理的返回值一定要清楚,让使用者不容易忽视或误解错误情况。<br><strong>【建议6-4-6】</strong>在子类中，继承的virtual functions请定义为virtual。
最好明确区分继承来的函数以及自有函数。<br><strong>【建议6-4-7】</strong>对于成员变量的任何修改,最好通过类本身的函数完成,不要在外部进行.<br><strong>【建议6-4-8】</strong>不要直接使用reference对于成员变量进行赋值。使用setters。<br><strong>【建议6-4-9】</strong>不要使用global C functions。如果的确需要，在cpp文件中加入local inline functions。如果需要global functions，加入到某个singleton中</p>
</blockquote>
<h3 id="使用断言">6.5 使用断言</h3>
<p>程序一般分为Debug 版本和Release 版本,Debug 版本用于内部调试,Release 版本发行给用户 使用。  </p>
<p>断言assert 是仅在Debug 版本起作用的宏,它用于检查“不应该”发生的情况。在运行过程中, 如果assert 的参数为假,那么程序就会中止(一般地还会出现提示对话,说明在什么地方引发了assert)。  </p>
<p>assert 不是一个仓促拼凑起来的宏。为了不在程序的Debug 版本和Release 版本引起差别,assert 不应该产生任何副作用。所以assert 不是函数,而是宏。程序员可以把assert 看成一个在任何系统状态 下都可以安全使用的无害测试手段。如果程序在assert处终止了,并不是说含有该assert 的函数有错 误,而是调用者出了差错,assert 可以帮助我们找到发生错误的原因。</p>
<blockquote>
<p><strong>【规则6-5-1】</strong>使用断言捕捉不应该发生的非法情况。不要混淆非法情况与错误情况之间的区别,后者是必然存在的并且是一定要作出处理的。<br><strong>【规则6-5-2】</strong>在函数的入口处,使用断言检查参数的有效性(合法性)。<br><strong>【建议6-5-3】</strong>在编写函数时,要进行反复的考查,并且自问:“我打算做哪些假定?”一旦确定了的 假定,就要使用断言对假定进行检查。<br><strong>【建议6-5-4】</strong>一般教科书都鼓励程序员们进行防错设计,但要记住这种编程风格可能会隐瞒错误。当 进行防错设计时,如果“不可能发生”的事情的确发生了,则要使用断言进行报警。</p>
</blockquote>
<h3 id="引用与指针的比较">6.6 引用与指针的比较</h3>
<p>引用是C++中的概念,容易把引用和指针混淆。 引用的一些规则如下:  </p>
<ul>
<li>引用被创建的同时必须被初始化(指针则可以在任何时候被初始化)。</li>
<li>不能有NULL 引用,引用必须与合法的存储单元关联(指针则可以是NULL)。</li>
<li>一旦引用被初始化,就不能改变引用的关系(指针则可以随时改变所指的对象)。</li>
</ul>
<h2 id="重载和内联">7 重载和内联</h2>
<h3 id="普通函数重载">7.1 普通函数重载</h3>
<blockquote>
<p><strong>【规则 7-1-1】</strong>重载函数中的参数不同(包括类型、顺序不同),才是重载函数,而仅仅返回值不同
则不行。<br><strong>【规则 7-1-2】</strong>当心隐式类型转换导致重载函数产生二义性,数字本身没有类型,将数字当作参数时
将自动进行类型转换(称为隐式类型转换)。<br>成员函数的重载、覆盖与隐藏<br><strong>【规则 7-1-1】</strong>成员函数的重载、覆盖(override)与隐藏很容易混淆,注意区分。<br><strong>【规则 7-1-2】</strong>注意如果派生类的函数与基类的函数同名,但是参数不同。此时,不论有无 virtual
关键字,基类的函数将被隐藏(注意别与重载混淆)。<br><strong>【规则 7-1-3】</strong>注意如果派生类的函数与基类的函数同名,并且参数也相同,但是基类函数没有
virtual 关键字。此时,基类的函数被隐藏(注意别与覆盖混淆)。</p>
</blockquote>
<h3 id="内联函数">7.2 内联函数</h3>
<blockquote>
<p><strong>【规则 7-2-1】</strong>尽量用内联取代宏代码,提高函数的执行效率(速度)。<br><strong>【规则 7-2-2】</strong>关键字 inline 必须与函数定义体放在一起才能使函数成为内联,仅将 inline 放在函
数声明前面不起任何作用。<br><strong>【规则 7-2-3】</strong>如果函数体内的代码比较长或函数体内出现循环,则不宜使用内联。  </p>
</blockquote>
<h2 id="内存管理">8 内存管理</h2>
<p>内存分配方式有三种:  </p>
<ul>
<li>从静态存储区域分配。<br>  内存在程序编译的时候就已经分配好,这块内存在程序的整个运行期间都 存在。例如全局变量,static 变量。  </li>
<li>在栈上创建。<br>  在执行函数时,函数内局部变量的存储单元都可以在栈上创建,函数执行结束时这 些存储单元自动被释放。栈内存分配运算内置于处理器的指令集中,效率很高,但是分配的内存容量有 限。</li>
<li>从堆上分配,亦称动态内存分配。<br>程序在运行的时候用malloc 或new 申请任意多少的内存,程 序员自己负责在何时用free 或delete 释放内存。动态内存的生存期由我们决定,使用非常灵活,但问 题也最多。  <blockquote>
<p><strong>【规则8-1-1】</strong>用malloc 或new 申请内存之后,应该立即检查指针值是否为NULL。防止使用指针值为NULL 的内存。<br><strong>【规则8-1-2】</strong>不要忘记为数组和动态内存赋初值。防止将未被初始化的内存作为右值使用。<br><strong>【规则8-1-3】</strong>避免数组或指针的下标越界,特别要当心发生“多1”或者“少1”操作。<br><strong>【规则8-1-4】</strong>动态内存的申请与释放必须配对,防止内存泄漏。
<strong>【规则8-1-5】</strong>用free 或delete 释放了内存之后,立即将指针设置为NULL,防止产生“野指针”。  </p>
</blockquote>
</li>
</ul>
<h2 id="类的构造函数析构函数成员函数与赋值函数">9 类的构造函数、析构函数、成员函数与赋值函数</h2>
<h3 id="类的构造函数">9.1 类的构造函数</h3>
<blockquote>
<p><strong>【规则 9-1-1】</strong>“缺省的拷贝构造函数”和“缺省的赋值函数”均采用“位拷贝”而非“值拷贝”的方 式来实现,若类中含有指针变量,不能采用缺省的方式。<br><strong>【规则 9-1-2】</strong>如果类存在继承关系,派生类必须在其初始化表里调用基类的构造函数。<br><strong>【规则 9-1-3】</strong>类的 const 常量只能在初始化表里被初始化,因为它不能在函数体内用赋值的方式来初 始化。<br><strong>【规则 9-1-4】</strong>非内部数据类型的成员对象采用初始化表的方式初始化较好。<br><strong>【规则 9-1-5】</strong>拷贝构造函数和赋值函数非常容易混淆,常导致错写、错用。拷贝构造函数是在对象被 创建时调用的,而赋值函数只能被已经存在了的对象调用。</p>
</blockquote>
<h3 id="成员函数">9.2 成员函数</h3>
<blockquote>
<p><strong>【规则 9-2-1】</strong>任何不会修改数据成员的函数都应该声明为 const 类型。<br><strong>【规则 9-2-2】</strong>对于不希望外部文件访问的函数,需要将函数声明放在单独的头文件(此头文件不对外开放)或放在实现文件中.</p>
</blockquote>
<h3 id="访问权限控制">9.3 访问权限控制</h3>
<blockquote>
<p><strong>【规则 9-3-1】</strong>类成员变量使用private. 通过使用get,set方式操作成员变量.<br><strong>【规则 9-3-2】</strong>对于不希望外部看到的成员变量,需要将变量声明放在单独的头文件(此头文件不对外开放)或实现文件中.  </p>
</blockquote>
<h2 id="类的继承和组合">10 类的继承和组合</h2>
<p>对于 C++程序而言,设计孤立的类是比较容易的,难的是正确设计基类及其派生类。  </p>
<blockquote>
<p><strong>【规则 10-1-1】</strong>如果类 A 和类 B 毫不相关,不可以为了使 B 的功能更多些而让 B 继承 A 的功能和属 性。<br><strong>【规则 10-1-2】</strong>若在逻辑上 B 是 A 的“一种情况”,则允许 B 继承 A 的功能和属性。<br><strong>【规则 10-1-3】</strong>若在逻辑上 A 是 B 的“一部分”(a part of),则不允许 B 从 A 派生,而是要用 A 和其 它东西组合出 B。  </p>
</blockquote>
<h2 id="其他规范及建议">11 其他规范及建议</h2>
<h3 id="提高程序的效率">11.1 提高程序的效率</h3>
<p>程序的时间效率是指运行速度,空间效率是指程序占用内存或者外存的状况。全局效率是指站在整个系统的角度上考虑的效率,局部效率是指站在模块或函数角度上考虑的效率。  </p>
<blockquote>
<p><strong>【规则11-1-1】</strong>不要一味地追求程序的效率,应当在满足正确性、可靠性、健壮性、可读性等质量因素 的前提下,设法提高程序的效率。<br><strong>【规则11-1-2】</strong>以提高程序的全局效率为主,提高局部效率为辅。<br><strong>【规则11-1-3】</strong>在优化程序的效率时,应当先找出限制效率的“瓶颈”,不要在无关紧要之处优化。<br><strong>【规则11-1-4】</strong>先优化数据结构和算法,再优化执行代码。<br><strong>【规则11-1-5】</strong>有时候时间效率和空间效率可能对立,此时应当分析那个更重要,作出适当的折衷。例 如多花费一些内存来提高性能。<br><strong>【规则11-1-6】</strong>不要追求紧凑的代码,因为紧凑的代码并不能产生高效的机器码。  </p>
</blockquote>
<h3 id="一些有益的建议">11.2 一些有益的建议</h3>
<blockquote>
<p><strong>【建议11-2-1】</strong>当心那些视觉上不易分辨的操作符发生书写错误。我们经常会把“==”误写成“=”, 象“||”、“&amp;&amp;”、“&lt;=”、“&gt;=”这类符号也很容易发生“丢失”失误。然而编译器却不一定能自 动指出这类错误。<br><strong>【建议11-2-2】</strong>变量(指针、数组)被创建之后应当及时把它们初始化,以防止把未被初始化的变量当成右值使用。<br><strong>【建议11-2-3】</strong>当心变量的初值、缺省值错误,或者精度不够。<br><strong>【建议11-2-4】</strong>当心数据类型转换发生错误。尽量使用显式的数据类型转换,避免让编译器轻悄悄地进行隐式的数据类型转换。<br><strong>【建议11-2-5】</strong>当心变量发生上溢或下溢,数组的下标越界。<br><strong>【建议11-2-6】</strong>当心忘记编写错误处理程序,当心错误处理程序本身有误。<br><strong>【建议11-2-7】</strong>当心文件I/O有错误。<br><strong>【建议11-2-8】</strong>避免编写技巧性很高代码。<br><strong>【建议11-2-9】</strong>不要设计面面俱到、非常灵活的数据结构。<br><strong>【建议11-2-10】</strong>如果原有的代码质量比较好,尽量复用它。但是不要修补很差劲的代码,应当重新编写。<br><strong>【建议11-2-11】</strong>尽量使用标准库函数,不要“发明”已经存在的库函数。<br><strong>【建议11-2-12】</strong>尽量不要使用与具体硬件或软件环境关系密切的变量。<br><strong>【建议11-2-13】</strong>把编译器的选择项设置为最严格状态。<br><strong>【建议11-2-14】</strong>如果可能的话,使用LogiScope 等工具进行代码审查。  </p>
</blockquote>
<p><strong>本文档整理自<code>&lt;&lt;C++编码规范参考.pdf&gt;&gt;</code>和<code>&lt;&lt;C编程规范和范例.doc&gt;&gt;</code></strong></p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../coding_convention/c++.html" class="navigation navigation-prev " aria-label="Previous page: 编码规范"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../coding_convention/client_development_specification.html" class="navigation navigation-next " aria-label="Next page: 客户端开发规范"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
