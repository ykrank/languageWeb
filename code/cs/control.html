<!DOCTYPE html>
<html>
<head>
    <title>if each loop</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">

</head>
<body>
<h3 id="控制语句">3.3 控制语句</h3>
<p>控制语句就是控制语句流向，命令有：<code>if, else, elif, alt</code>
    常用的是前3个，alt一般很少用到，在此略过。前3个命令与其他语言的含义完全相同，无论我们学习什么语言，都会学习<code>if…else</code>语句，这里的if else
    也是一个意思，举几个例子大家就会明白了。</p>
<pre><code>&lt;?cs if:#1?&gt;当前的数字是1&lt;?cs /if?&gt;

&lt;?cs if:#1?&gt;
当前数字是1
&lt;?cs else?&gt;
数字不是1
&lt;?cs /if?&gt;

&lt;?cs if:#1?&gt;
当前数字是1
&lt;?cs elif:#2?&gt;
当前数字是2
&lt;?cs else?&gt;
数字为其他
&lt;?cs /if?&gt;
</code></pre>
<p>由于CS模板中数字的都写成#1，#2的形式。所以在该段代码中，数字都用#1，#2来代替。</p>

<h3 id="迭代语句">3.4 迭代语句</h3>
<p>命令有：<code>each, loop, with</code>
    我们常用的是<code>each，loop</code>也会用一点，但是比较少，with基本不用。介绍each和loop。</p>
<p>报文：</p>
<pre><code>&lt;res&gt;
    &lt;item&gt;12&lt;/item&gt;
    &lt;item&gt;23&lt;/item&gt;
    &lt;item&gt;34&lt;/item&gt;
&lt;/res&gt;
</code></pre>
<p>each，就是遍历，当res父节点下有多个item子节点，each命令使用在res.item上时，each会依次遍历<code>res.item.0</code>，<code>res.item.1</code>，
    <code>res.item.2</code>。例：</p>
<pre>
    <code>
        &lt;?cs each:items=res.item?&gt;
        &lt;?cs    var:items?&gt;
        &lt;?cs /each?&gt;
    </code>
</pre>
<p>第一行依次遍历item节点，第二行把item的三个值输出，第三行结束标志。</p>
<p>loop，就是循环。举个例子你就会明白：</p>
<p>
    <code>&lt;?cs loop:x = #1, #5, #2 ?&gt;&lt;?cs var:x ?&gt;, &lt;?cs /loop ?&gt;</code>
    -&gt;
    <code>1, 3, 5</code>
</p>
<p>
    <code>&lt;?cs loop:x = #1, #205, #2 ?&gt;&lt;?cs var:x ?&gt;, &lt;?cs /loop ?&gt;</code>
    -&gt;
    <code>1, 3, 5... 205</code>
</p>
<p><code>&lt;?cs loop:x = #205, #1, &quot;-2&quot; ?&gt;&lt;?cs var:x ?&gt;, &lt;?cs /loop
    ?&gt;</code>
    -&gt;
    <code>205, 203, 201, ... 1</code>
</p>
<hr>
<h2 id="cs语法扩展">4 CS语法扩展</h2>
<h3 id="cs中的each">4.1 CS中的each</h3>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;res&gt;
    &lt;tranCode&gt;MB0102&lt;/tranCode&gt;
    &lt;status&gt;
        &lt;value&gt;0&lt;/value&gt;
        &lt;msg&gt;Error&lt;/msg&gt;
    &lt;/status&gt;
    &lt;myAccount name=&quot;test&quot;&gt;
        &lt;id&gt;405512201401127**&lt;/id&gt; &lt;!--账户--&gt;
        &lt;type&gt;借记卡的代码&lt;/type&gt;&lt;!--账户类型--&gt;
        &lt;currency&gt;人民币的代码&lt;/currency&gt;&lt;!--货币种类--&gt;
        &lt;balance&gt;123001.00&lt;/balance&gt;&lt;!--余额--&gt;
    &lt;/myAccount&gt;
    &lt;myAccount name=&quot;test&quot;&gt;
        &lt;id&gt;405512201401127**&lt;/id&gt; &lt;!--账户--&gt;
        &lt;type&gt;借记卡的代码&lt;/type&gt;&lt;!--账户类型--&gt;
        &lt;currency&gt;人民币的代码&lt;/currency&gt;&lt;!--货币种类--&gt;
        &lt;balance&gt;123001.00&lt;/balance&gt;&lt;!--余额--&gt;
    &lt;/myAccount&gt;
    &lt;myAccount name=&quot;test&quot;&gt;
        &lt;id&gt;405512201401127**&lt;/id&gt; &lt;!--账户--&gt;
        &lt;type&gt;借记卡的代码&lt;/type&gt;&lt;!--账户类型--&gt;
        &lt;currency&gt;人民币的代码&lt;/currency&gt;&lt;!--货币种类--&gt;
        &lt;balance&gt;123001.00&lt;/balance&gt;&lt;!--余额--&gt;
    &lt;/myAccount&gt;
&lt;/res&gt;
</code></pre><p>当<code>res.myAccount</code>有一个的时候，使用<code>res.myAccoun</code>访问。当<code>res.myAccount</code>有多个的时候，使用<code>res.myAccoun.0</code>访问第一个元素。不论<code>res.myAccount</code>有一个或多个，都可以用each的方式遍历。</p>
<pre><code>&lt;?cs each:account = res.myAccount ?&gt;
&lt;?cs /each ?&gt;
</code></pre>
</body>